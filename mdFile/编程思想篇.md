# 编程思想篇

## 前言

编程思想，着重表达的是思想二字。

这是一句废话，但真真确确。我想表达的是做事和思考的方式，和编程本身关系不大，只不过不好表述，尤其是让人很容易明白的表述。

授人与鱼不如授人与渔，这个大家都知道，应用到程序员行列，就是学会思考解决问题，而不是学习如何解决某个问题。

为了能表述的更简单直白，下面都是单个问题的事例，这样比较不枯燥。

## 程序员的非理性行为

程序员号称是理性动物，貌似因为和干的活儿有关，不知道是谁提出的，渐渐的程序员自己都相信了。但问题是，程序员还没有脱出普通人类的范畴，普通人类共有的非理性行为特征，作为程序员的你，怎么可能这么容易摆脱？

程序员的非理性行为更多偏向于趋向性，我猜测由于程序员更孤独，认同感会更强，所以趋向性比较明显，而一旦有了趋向性选择，表现的往往更富有激情甚至极端。

最明显的例子，就是受到鼓吹，接受某编程语言或某技术后，坚定站在保护立场，摒弃一切外来抨击（哪怕内心已经认同）。

## 面向对象好还是不好，有多好

我真是见过某个demo只有几个函数，注释里特地表明代码使用了OO思想怎地怎地……

面向对象只是在某个领域或针对某类问题，能更好的解决问题，仅此而已。

## 面向对象语言与面向对象思想的关系

面向对象语言为了表述对象，做了更友好的语法设计，表达力更强。java嘲笑c++说我是完全面向对象的，c++反过来欺负c说你是面向过程的。

好吧，你都说是思想了，又跟语言有什么关系。你非要说c写不来面向对象，我只能说你c学的太烂。

## ios二倍图可以转换为三倍图吗

这个问题可笑吗？一点儿都不，因为我身边很多人都认为可以，并使用Prepo转换后说：你看，可以的。包括好几年工作经验的都说咱验证验证吧。

这个问题的根本是位图的定义，搞清楚这个问题是不用去做实验验证的，不是浪费时间么。作为一个客户端开发人员整天和UI打交道，这种基本常识需要具备。

## 什么时候对程序进行性能优化

	答案是：当性能不符合需求的时候。

你别笑，我见过太多的例子，看着代码问他为什么要这么写，他说这样效率高。问题是需要他考虑效率了吗？之所以问为什么这么写，是因为代码很晦涩难懂，容易出bug。如果写的漂亮优雅性能又好，自然最好。

效率永远不是最重要的，但太多人时时搞性能优化，搞后台的还有情可原，做客户端天天考虑性能就有点儿过了。

	性能永远不是最重要的。

## 什么时候重构代码

这要区分具体项目以及项目大小和项目周期。
如果是小项目不用考虑太多，基本随时都可以，经过充分测试验证就行。如果是大项目需要考虑的因素比较多。

也许你见过有些项目里的代码很糟糕，可能还是有名气的项目，大可不必嗤之以鼻。重构代码的代价是比较昂贵的，牵扯到历史需求问题，牵扯到业务之间的耦合关系，牵扯到项目周期，甚至牵扯到商务问题。假如对项目了解不深，迫不得已还是不要改，愣头青的热血一头扎进去结果经常是头破血流，个人还好，就怕拖累整个团队、部门或公司。

在重构的必要条件到来时（如bug，性能等），最好在版本初期做修改，最起码在质量部门介入之前修改自测完成。

## 好的项目为什么那么少

项目的复杂度分两个纬度：一是技术复杂度；二是人的复杂度。

个人的认知是：项目的复杂度从来都不是技术问题，而是人的问题。这里的人泛指与项目相关的所有参与人员，包括直接客户、间接客户、用户、领导层、决策层、产品、测试、研发等。

再考虑上技术复杂度以及项目周期等因素，要想做好一个项目，真的很不容易。很多好的项目可能在摇篮就被扼杀掉了。

## 我要专心学精一门技术

这种说法本身没有什么错，但什么才算精，是值得商榷的。程序界不存在独孤九剑这种逆天招式，技术和学科一样具有相关性，所以很可能你在达到中级或高级时，就会碰到壁垒，原因是其他学科的基础支撑不够。

举个最简单的例子，原先搞java的很多，真正对虚拟机机制、并发、异步IO等知识了解的并不多，更多的是拿来主义，一旦碰到线上问题就捉肘见襟。反过来搞C和C++的对这些理解更深入些，不过对模式、容器、架构等上层应用理解没java好。

	真正要达到精的地步，必然会在某个层级涉及其他领域，反过来再促进作用。

## 学会习惯看官方文档

现在的程序员是幸福的，无论什么问题网上一搜，90%的问题都能得到解决，对网上的资料归纳总结加上自己的思考，再能解决9%的问题。

	这种习惯造成很多人不看官方文档。

于是，导致很多讨论沟通都是无效的。有很多真实场景发生，比如在解决问题时，需要确认hashmap是否线程安全，有说安全有说不安全，网上搜一堆信息说法还不一致，半天没个结果。问题是这种事情必须以官方为准，除了官方谁说都不算，让小弟看官方文档，回答是英语不行。好吧，我的做法是：打开官方hashmap文档，在满篇的英文中搜索thread，找到thread safe或thread unsafe。

这是方法问题，不牵扯其他。类似的问题有太多，随便在网上找了篇文章下定论，给你争论的面红耳赤，我只问一句：官方文档怎么说？

当然，官方文档也不是都对的，最权威的还是源码，文档和源码不一致时（源码不开放的可以参考头文件描述），以源码为主。

	作为程序员，要有理由怀疑一切，追寻到问题的根源，并经过自己的验证。

还有一点是时效性。不同时间看待问题解决问题的方式不一样，所以无论文档也好，代码也好，注意下时间和版本日期。

## 结尾

学会看别人思考问题的方式，比如何解决具体问题要有价值的多。
但最终奥义是形成自己的思维方式。

