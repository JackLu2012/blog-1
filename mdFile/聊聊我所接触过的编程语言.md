# 聊聊我所接触过的编程语言


## 免责声明
我最熟悉的语言是C语言，目前使用OC，所以谈到的大部分语言只是简单涉猎，并没有在项目中应用过，这里只是泛泛之谈、个人感悟而已，为避免误人子弟，所以这里单独提出来。

## 杂谈开始
动态语言好还是静态语言好，一直是个有争议的话题。目前为止，大型项目还是静态语言更好些，当然大型项目一般都会用到多种语言。

C语言是我工作中从事时间最长的语言，幸好也是我所喜欢的。我眼中的C语言是简洁、优美的，不像C++太复杂，太多的特性。不过C语言有两个比较严重的问题：标准库支撑太弱和野指针。

这方面C++做的能好点儿，有模板库，内存泄露问题有局部解决方法，不过，C++语法太复杂了，初学者容易一头扎进C++的复杂性出不来，最后落得沉迷于C++的奇淫技巧出不来。如果 C++能剔除一些复杂语法和技巧，多从设计角度考虑问题，到不失为很好的语言。

好的语言应该降低学习成本，使得可以把精力放在设计和业务上。

所以除非工作需要，否则我一般不用C或C++写代码，太累！脚本语言这方面做的比较好，语法简洁功能还强大，例如我经常用python写一些脚本来支撑重复性的工作，python把简洁做到了极致，让你用最少的代码实现复杂的功能，这离不开它强大的基本库和第三方库支撑。当然，python很难作为项目的主角。

相对于python，ruby走的是迷幻路线，运行时修改是它的最大特性，利用这一特性可以变各种魔术，达到代码的最大复用性。可以说，ruby让我感受到了编程艺术，使用ruby工作的都是幸福的人。虽然不喜欢ruby的语法，但还是为它激动。

	让我奇怪的一个问题是ruby不支持尾递归，python同样也不支持，这个我觉得可以有，不然蛮遗憾的。

尾递归来源于函数式编程语言，我是从erlang中学到的，刚接触到就满身激动，多好的特性啊，所有语言都应该支持这个特性。erlang最优秀的两个特性一个是尾递归，一个是模式匹配，两者结合可以把逻辑按照自然思维去描述，多么优秀啊。erlang还有并发、实时、热升级等一堆很好的特性，不过这些特性应归于框架而非语言了。

同样支持尾递归的还有lua，lua将性能发挥到极致，适合逻辑性的密集运算，再配合Nginx就无敌了，哈……但是我不太喜欢它的语法，它的应用场景相对比较窄一些，同样窄的是javascript（至从node.js出来后就改变了局面），它的语法我倒是很喜欢，给人一种小巧精致的感觉。javascript有很多缺陷，比如没有命名空间，没有块作用域，没有import，应用web是可以，想做为前后端通吃就差点儿了，最近几年javascript也在发展，ES6规范已经出台（模式匹配和lambda有erlang的痕迹）。

脚本和静态语言之间的差别较大，夹杂在中间也有不少语言，折中两者，比较有代表的算是java了。
java在软件工程整体性上做出了很大贡献，从架构模式、设计、框架，衍生出不少优秀思想和作品。正是赋予java太多设计思想，使得java太严肃、太规整了，写个hello world都要抽象一下，否则总感觉背后有十几个人在指责你的行为。

最后回归到目前工作中的语言: Objective-C和swift。

我就没见swift有多好，感觉就像乱七八糟的从其他语言拿来一堆特性拼凑了一下，没有统一的风格。设计一门语言要有自己的哲学，要有主脉络，要有取舍，不是功能越多就越好。swift特性杂，必然没有统一的代码风格，要想维护别人的代码，必然要把所有特性深入，无形中增加了很大的学习成本。

反观Objective-C，除了语法另类，学习成本相当低。只要搞明白运行时，就可闯荡天下，这点和ruby有共通之处。

浅浅的流水账到这里就差不多了，要说最喜欢哪个语言，其实难以取舍的，要根据应用的不同场景采取适合的语言。

* 要写工具类的，肯定采用python了
* 要写密集型的逻辑运算lua最划算
* 要写稳定的后端框架和服务，还是采用java保险，go语言也可以考虑
* 并发和实时性要求高的消息类的可以采用erlang
* 中小型web可以采用ruby
* 至于C语言，目前基本应用嵌入式领域了，高性能后端框架依然在采用

## 补充篇

前面的语言描述太水了，想表达的意思没有体现出来，这里做个更新。

编程语言大致分三类：

- 面向过程编程语言，如 C 语言
- 面向对象编程语言，如 java 语言
- 函数式编程语言，如 lisp 系列

三类语言不是交替式的更新，基本都在同一时代被发明出来，发展变化到今天，所以很难去简单的评判谁更优秀。

作为研发人员，可以有自己的语言偏好，但不要有排斥其他类型语言的思想，能有几十年的传承，必有其优秀之处。

我们举个抽象化的示例描述，大致区分三类语言的特点：

```
软件的本质： 数据 + 数据之上的运算

面向过程处理方式：数据是数据，运算是运算
面向对象处理方式：数据和运算绑定
函数式处理方式：数据是数据，运算是运算，数据即运算
```

按照上述描述，直观结论可能与我们的认知有出入：函数式最牛，因为有个邪乎的概念**数据即运算**，面向过程最合理，数据与运算耦合最低，面向对象最差耦合度最高。

这里我们忽略了一个事实，就是软件与人、软件与系统的关系：

```
	people  <-->  soft  <-->  systom
			  关联1        关联2
```

编程语言不但与人有关联，与系统也存在关联。语言与人的友好度，和语言与系统的友好度通常是反比关系，因此，一个语言的优劣要通过两层关联来辩证。

```
语言A的关联1 > 语言 B，但语言 B 的关联2 > 语言 A，如何比较语言 A 与语言 B 的优劣？
```

那么语言的好坏仅依赖我们使用的场景，不能说这个语言好，只能说在这种场景下这个语言比较适合。

函数式编程我也不太熟，但它的核心概念比较好：***函数的无副作用***，而且这个概念是通用的，同样可以应用到面向过程与面向对象编程语言当中。

## 语言学习的深度与广度

首先提示下，不要被***语言不用要编程思想才重要***之类的说法误导，说这种话的人要么什么都不懂，要么语言功底已经深入骨髓，不是你能望其项背的。

学习编程语言，建议先有深度再有广度。

没有深度，学习再多编程语言也是门外汉，反过来一样，只懂一门编程语言，思想就会受到限制，深度到一定程度就会停止不前。

## 关于项目中的技术选型

通过上述中编程语言的论述，可以得出优选结果：在大中型项目中，根据切合的局部应用场景，选择最适合的编程语言和技术，简述一句话就是混合技术开发。

几年前我就在公司内部推动混合技术开发，但，现实是残酷的。技术侧之外还有项目管理，还有公司成本控制，牵扯到方方面面。推动之前到也不是不明白这些道理，但做技术的，总还是要有些理想不是？




